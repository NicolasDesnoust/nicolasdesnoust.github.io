<section class="section is-medium has-text-centered">
  <h1 class="title is-spaced">Contact</h1>
  <h2 class="subtitle">
    You can send me a message if you have any questions or if you would like to
    schedule an interview.
  </h2>

  <div class="columns mt-6">
    <div class="column is-10 is-offset-1">
      <div class="block has-text-left">
        <form [formGroup]="contactForm">
          <div class="field">
            <label class="label required">Message Subject</label>
            <p class="control">
              <input
                [ngClass]="{
                  'is-danger':
                    f['subject'].invalid &&
                    (f['subject'].dirty || f['subject'].touched)
                }"
                required="required"
                formControlName="subject"
                class="input"
                type="text"
              />
            </p>
            <span
              *ngIf="
                f['subject'].invalid &&
                (f['subject'].dirty || f['subject'].touched)
              "
              [appendErrorMessageOf]="f['subject']"
              class="help is-danger error-message"
            >
            </span>
          </div>

          <div class="field">
            <label class="label required">Message Body</label>
            <p class="control">
              <textarea
                [ngClass]="{
                  'is-danger':
                    f['body'].invalid && (f['body'].dirty || f['body'].touched)
                }"
                required="required"
                formControlName="body"
                class="textarea"
                rows="10"
              ></textarea>
            </p>
            <span
              *ngIf="
                f['body'].invalid && (f['body'].dirty || f['body'].touched)
              "
              [appendErrorMessageOf]="f['body']"
              class="help is-danger error-message"
            >
            </span>
            <span class="help">
              Please describe here why you would like to get in touch with me.
            </span>
          </div>

          <div class="field">
            <label class="label required">Your complete name</label>
            <p class="control has-icons-left">
              <input
                [ngClass]="{
                  'is-danger':
                    f['senderName'].invalid &&
                    (f['senderName'].dirty || f['senderName'].touched)
                }"
                required="required"
                formControlName="senderName"
                class="input"
                type="text"
              />
              <span class="icon is-small is-left">
                <i class="fas fa-user" aria-hidden="true"></i>
              </span>
            </p>
            <span
              *ngIf="
                f['senderName'].invalid &&
                (f['senderName'].dirty || f['senderName'].touched)
              "
              [appendErrorMessageOf]="f['senderName']"
              class="help is-danger error-message"
            >
            </span>
          </div>

          <div class="field">
            <label class="label required">Your email</label>
            <p class="control has-icons-left">
              <input
                required="required"
                formControlName="senderEmailAddress"
                class="input"
                [ngClass]="{
                  'is-danger':
                    f['senderEmailAddress'].invalid &&
                    (f['senderEmailAddress'].dirty ||
                      f['senderEmailAddress'].touched)
                }"
                type="email"
              />
              <span class="icon is-small is-left">
                <i class="fas fa-envelope" aria-hidden="true"></i>
              </span>
            </p>
            <span
              *ngIf="
                f['senderEmailAddress'].invalid &&
                (f['senderEmailAddress'].dirty ||
                  f['senderEmailAddress'].touched)
              "
              [appendErrorMessageOf]="f['senderEmailAddress']"
              class="help is-danger error-message"
            >
            </span>
            <span class="help">
              I will use your email solely to reply to you.
            </span>
          </div>
        </form>
      </div>
      <button
        class="button is-primary"
        (click)="sendContactMessage()"
        [ngClass]="{ 'is-loading': isSubmittingForm }"
      >
        Send message
      </button>
    </div>
  </div>
</section>
